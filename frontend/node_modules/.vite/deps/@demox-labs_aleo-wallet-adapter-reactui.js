import {
  require_react_dom
} from "./chunk-CJSRII5H.js";
import {
  require_dist as require_dist2
} from "./chunk-PSJ7C3XM.js";
import {
  require_react
} from "./chunk-3RM6SWVL.js";
import {
  require_dist
} from "./chunk-PU2N7MMA.js";
import {
  __toESM
} from "./chunk-5WRI5ZAA.js";

// node_modules/@demox-labs/aleo-wallet-adapter-reactui/dist/useWalletModal.js
var import_react = __toESM(require_react());
var DEFAULT_CONTEXT = {
  setVisible(_open) {
    console.error(constructMissingProviderErrorMessage("call", "setVisible"));
  },
  visible: false
};
Object.defineProperty(DEFAULT_CONTEXT, "visible", {
  get() {
    console.error(constructMissingProviderErrorMessage("read", "visible"));
    return false;
  }
});
function constructMissingProviderErrorMessage(action, valueName) {
  return `You have tried to ${action} "${valueName}" on a WalletModalContext without providing one. Make sure to render a WalletModalProvider as an ancestor of the component that uses WalletModalContext`;
}
var WalletModalContext = (0, import_react.createContext)(DEFAULT_CONTEXT);
function useWalletModal() {
  return (0, import_react.useContext)(WalletModalContext);
}

// node_modules/@demox-labs/aleo-wallet-adapter-reactui/dist/WalletConnectButton.js
var import_react4 = __toESM(require_react());
var import_aleo_wallet_adapter_react = __toESM(require_dist2());

// node_modules/@demox-labs/aleo-wallet-adapter-reactui/dist/Button.js
var import_react2 = __toESM(require_react());
var Button = (props) => {
  return import_react2.default.createElement(
    "button",
    { className: `wallet-adapter-button ${props.className || ""}`, disabled: props.disabled, style: props.style, onClick: props.onClick, tabIndex: props.tabIndex || 0, type: "button" },
    props.startIcon && import_react2.default.createElement("i", { className: "wallet-adapter-button-start-icon" }, props.startIcon),
    props.children,
    props.endIcon && import_react2.default.createElement("i", { className: "wallet-adapter-button-end-icon" }, props.endIcon)
  );
};

// node_modules/@demox-labs/aleo-wallet-adapter-reactui/dist/WalletIcon.js
var import_react3 = __toESM(require_react());
var WalletIcon = ({ wallet, ...props }) => {
  return wallet && import_react3.default.createElement("img", { src: wallet.adapter.icon, alt: `${wallet.adapter.name} icon`, ...props });
};

// node_modules/@demox-labs/aleo-wallet-adapter-reactui/dist/WalletConnectButton.js
var import_aleo_wallet_adapter_base = __toESM(require_dist());
var WalletConnectButton = ({ children, disabled, onClick, decryptPermission, network, programs, ...props }) => {
  const { wallet, connect, connecting, connected } = (0, import_aleo_wallet_adapter_react.useWallet)();
  const handleClick = (0, import_react4.useCallback)((event) => {
    if (onClick)
      onClick(event);
    if (!event.defaultPrevented)
      connect(decryptPermission || "NO_DECRYPT", network || import_aleo_wallet_adapter_base.WalletAdapterNetwork.TestnetBeta, programs ?? []).catch(() => {
      });
  }, [onClick, connect]);
  const content = (0, import_react4.useMemo)(() => {
    if (children)
      return children;
    if (connecting)
      return "Connecting ...";
    if (connected)
      return "Connected";
    if (wallet)
      return "Connect";
    return "Connect Wallet";
  }, [children, connecting, connected, wallet]);
  return import_react4.default.createElement(Button, { className: "wallet-adapter-button-trigger", disabled: disabled || !wallet || connecting || connected, startIcon: wallet ? import_react4.default.createElement(WalletIcon, { wallet }) : void 0, onClick: handleClick, ...props }, content);
};

// node_modules/@demox-labs/aleo-wallet-adapter-reactui/dist/WalletModal.js
var import_react8 = __toESM(require_react());
var import_react_dom = __toESM(require_react_dom());
var import_aleo_wallet_adapter_base3 = __toESM(require_dist());
var import_aleo_wallet_adapter_react2 = __toESM(require_dist2());

// node_modules/@demox-labs/aleo-wallet-adapter-reactui/dist/Collapse.js
var import_react5 = __toESM(require_react());
var Collapse = ({ id, children, expanded = false }) => {
  const ref = (0, import_react5.useRef)(null);
  const instant = (0, import_react5.useRef)(true);
  const transition = "height 250ms ease-out";
  const openCollapse = () => {
    const node = ref.current;
    if (!node)
      return;
    requestAnimationFrame(() => {
      node.style.height = node.scrollHeight + "px";
    });
  };
  const closeCollapse = () => {
    const node = ref.current;
    if (!node)
      return;
    requestAnimationFrame(() => {
      node.style.height = node.offsetHeight + "px";
      node.style.overflow = "hidden";
      requestAnimationFrame(() => {
        node.style.height = "0";
      });
    });
  };
  (0, import_react5.useLayoutEffect)(() => {
    if (expanded) {
      openCollapse();
    } else {
      closeCollapse();
    }
  }, [expanded]);
  (0, import_react5.useLayoutEffect)(() => {
    const node = ref.current;
    if (!node)
      return;
    function handleComplete() {
      if (!node)
        return;
      node.style.overflow = expanded ? "initial" : "hidden";
      if (expanded) {
        node.style.height = "auto";
      }
    }
    function handleTransitionEnd(event) {
      if (node && event.target === node && event.propertyName === "height") {
        handleComplete();
      }
    }
    if (instant.current) {
      handleComplete();
      instant.current = false;
    }
    node.addEventListener("transitionend", handleTransitionEnd);
    return () => node.removeEventListener("transitionend", handleTransitionEnd);
  }, [expanded]);
  return import_react5.default.createElement("div", { className: "wallet-adapter-collapse", id, ref, role: "region", style: { height: 0, transition: instant.current ? void 0 : transition } }, children);
};

// node_modules/@demox-labs/aleo-wallet-adapter-reactui/dist/WalletListItem.js
var import_react6 = __toESM(require_react());
var import_aleo_wallet_adapter_base2 = __toESM(require_dist());
var WalletListItem = ({ handleClick, tabIndex, wallet }) => {
  return import_react6.default.createElement(
    "li",
    null,
    import_react6.default.createElement(
      Button,
      { onClick: handleClick, startIcon: import_react6.default.createElement(WalletIcon, { wallet }), tabIndex },
      wallet.adapter.name,
      wallet.readyState === import_aleo_wallet_adapter_base2.WalletReadyState.Installed && import_react6.default.createElement("span", null, "Detected")
    )
  );
};

// node_modules/@demox-labs/aleo-wallet-adapter-reactui/dist/AleoSVG.js
var import_react7 = __toESM(require_react());
var AleoSVG = () => {
  return import_react7.default.createElement(
    "svg",
    { xmlns: "http://www.w3.org/2000/svg", width: "216", height: "80", viewBox: "0 0 216 80", fill: "none" },
    import_react7.default.createElement("path", { d: "M73.426 0V8.93824H81.6842V78.8961H90.6045V0H73.426Z", fill: "#F5F5F5" }),
    import_react7.default.createElement("path", { d: "M154.145 51.4216C154.145 32.5518 143.683 21.297 127.604 21.297C111.526 21.297 100.954 32.0007 100.954 50.8687C100.954 69.7367 111.415 80 127.604 80C140.378 80 149.96 72.6061 152.603 62.3447H142.692C140.488 67.0902 135.975 71.2829 127.604 71.2829C116.812 71.2829 111.307 64.4419 110.205 54.6209H154.145V51.4216ZM110.316 46.125C111.636 36.6357 117.364 29.9035 127.604 29.9035C137.845 29.9035 143.242 36.5251 144.564 46.125H110.316Z", fill: "#F5F5F5" }),
    import_react7.default.createElement("path", { d: "M189.272 21.297C173.083 21.297 162.622 32.0007 162.622 50.8687C162.622 69.7367 173.083 80 189.272 80C205.461 80 215.812 70.0684 215.812 50.8687C215.812 31.669 205.351 21.297 189.272 21.297ZM189.272 71.5041C177.709 71.5041 171.432 62.4553 171.432 50.76C171.432 39.0647 177.709 29.6842 189.272 29.6842C200.836 29.6842 207.003 38.8436 207.003 50.76C207.003 62.6764 200.946 71.5041 189.272 71.5041Z", fill: "#F5F5F5" }),
    import_react7.default.createElement("path", { d: "M46.5565 0H28.3849L12.6134 46.125H22.2179L34.9933 8.49593H39.6189L52.3925 46.125H22.2179L19.2457 54.6209H55.2561L63.5143 78.8961H73.426L46.5565 0Z", fill: "#F5F5F5" }),
    import_react7.default.createElement("path", { d: "M1.40508 78.8961H10.9857L19.2457 54.6209L9.7074 54.6209L1.40508 78.8961Z", fill: "#F5F5F5" }),
    import_react7.default.createElement("path", { d: "M3.0935 46.125L0.1875 54.6209H9.7074L12.6134 46.125H3.0935Z", fill: "#F5F5F5" })
  );
};

// node_modules/@demox-labs/aleo-wallet-adapter-reactui/dist/WalletModal.js
var WalletModal = ({ className = "", container = "body", decryptPermission, network, programs }) => {
  const ref = (0, import_react8.useRef)(null);
  const { wallets, select, connect, wallet } = (0, import_aleo_wallet_adapter_react2.useWallet)();
  const { setVisible } = useWalletModal();
  const [expanded, setExpanded] = (0, import_react8.useState)(false);
  const [fadeIn, setFadeIn] = (0, import_react8.useState)(false);
  const [portal, setPortal] = (0, import_react8.useState)(null);
  const [installedWallets, otherWallets] = (0, import_react8.useMemo)(() => {
    const installed = [];
    const notDetected = [];
    const loadable = [];
    for (const wallet2 of wallets) {
      if (wallet2.readyState === import_aleo_wallet_adapter_base3.WalletReadyState.NotDetected) {
        notDetected.push(wallet2);
      } else if (wallet2.readyState === import_aleo_wallet_adapter_base3.WalletReadyState.Loadable) {
        loadable.push(wallet2);
      } else if (wallet2.readyState === import_aleo_wallet_adapter_base3.WalletReadyState.Installed) {
        installed.push(wallet2);
      }
    }
    return [installed, [...loadable, ...notDetected]];
  }, [wallets]);
  const getStartedWallet = (0, import_react8.useMemo)(() => {
    return installedWallets.length ? (
      // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
      installedWallets[0]
    ) : wallets.find((wallet2) => wallet2.adapter.name === "Leo Wallet") || wallets.find((wallet2) => wallet2.adapter.name === "Phantom") || wallets.find((wallet2) => wallet2.readyState === import_aleo_wallet_adapter_base3.WalletReadyState.Loadable) || // eslint-disable-next-line @typescript-eslint/no-non-null-assertion
    otherWallets[0];
  }, [installedWallets, wallets, otherWallets]);
  const hideModal = (0, import_react8.useCallback)(() => {
    setFadeIn(false);
    setTimeout(() => setVisible(false), 150);
  }, [setVisible]);
  const handleClose = (0, import_react8.useCallback)((event) => {
    event.preventDefault();
    hideModal();
  }, [hideModal]);
  const handleWalletClick = (0, import_react8.useCallback)((event, walletName) => {
    select(walletName);
    handleClose(event);
  }, [select, handleClose]);
  const handleCollapseClick = (0, import_react8.useCallback)(() => setExpanded(!expanded), [expanded]);
  const handleTabKey = (0, import_react8.useCallback)((event) => {
    const node = ref.current;
    if (!node)
      return;
    const focusableElements = node.querySelectorAll("button");
    const firstElement = focusableElements[0];
    const lastElement = focusableElements[focusableElements.length - 1];
    if (event.shiftKey) {
      if (document.activeElement === firstElement) {
        lastElement.focus();
        event.preventDefault();
      }
    } else {
      if (document.activeElement === lastElement) {
        firstElement.focus();
        event.preventDefault();
      }
    }
  }, [ref]);
  (0, import_react8.useLayoutEffect)(() => {
    const handleKeyDown = (event) => {
      if (event.key === "Escape") {
        hideModal();
      } else if (event.key === "Tab") {
        handleTabKey(event);
      }
    };
    const { overflow } = window.getComputedStyle(document.body);
    setTimeout(() => setFadeIn(true), 0);
    document.body.style.overflow = "hidden";
    window.addEventListener("keydown", handleKeyDown, false);
    return () => {
      document.body.style.overflow = overflow;
      window.removeEventListener("keydown", handleKeyDown, false);
    };
  }, [hideModal, handleTabKey]);
  (0, import_react8.useLayoutEffect)(() => setPortal(document.querySelector(container)), [container]);
  (0, import_react8.useLayoutEffect)(() => {
    if (wallet) {
      connect(decryptPermission || "NO_DECRYPT", network || import_aleo_wallet_adapter_base3.WalletAdapterNetwork.TestnetBeta, programs ?? []).catch((e) => {
        console.log({ e });
      });
    }
  }, [wallet]);
  return portal && (0, import_react_dom.createPortal)(import_react8.default.createElement(
    "div",
    { "aria-labelledby": "wallet-adapter-modal-title", "aria-modal": "true", className: `wallet-adapter-modal ${fadeIn && "wallet-adapter-modal-fade-in"} ${className}`, ref, role: "dialog" },
    import_react8.default.createElement(
      "div",
      { className: "wallet-adapter-modal-container" },
      import_react8.default.createElement(
        "div",
        { className: "wallet-adapter-modal-wrapper" },
        import_react8.default.createElement(
          "button",
          { onClick: handleClose, className: "wallet-adapter-modal-button-close" },
          import_react8.default.createElement(
            "svg",
            { width: "14", height: "14" },
            import_react8.default.createElement("path", { d: "M14 12.461 8.3 6.772l5.234-5.233L12.006 0 6.772 5.234 1.54 0 0 1.539l5.234 5.233L0 12.006l1.539 1.528L6.772 8.3l5.69 5.7L14 12.461z" })
          )
        ),
        installedWallets.length ? import_react8.default.createElement(
          import_react8.default.Fragment,
          null,
          import_react8.default.createElement("h1", { className: "wallet-adapter-modal-title" }, "Connect a wallet on Aleo to continue"),
          import_react8.default.createElement(
            "ul",
            { className: "wallet-adapter-modal-list" },
            installedWallets.map((wallet2) => import_react8.default.createElement(WalletListItem, { key: wallet2.adapter.name, handleClick: (event) => handleWalletClick(event, wallet2.adapter.name), wallet: wallet2 })),
            otherWallets.length ? import_react8.default.createElement(Collapse, { expanded, id: "wallet-adapter-modal-collapse" }, otherWallets.map((wallet2) => import_react8.default.createElement(WalletListItem, { key: wallet2.adapter.name, handleClick: (event) => handleWalletClick(event, wallet2.adapter.name), tabIndex: expanded ? 0 : -1, wallet: wallet2 }))) : null
          ),
          otherWallets.length ? import_react8.default.createElement(
            "button",
            { className: "wallet-adapter-modal-list-more", onClick: handleCollapseClick, tabIndex: 0 },
            import_react8.default.createElement(
              "span",
              null,
              expanded ? "Less " : "More ",
              "options"
            ),
            import_react8.default.createElement(
              "svg",
              { width: "13", height: "7", viewBox: "0 0 13 7", xmlns: "http://www.w3.org/2000/svg", className: `${expanded ? "wallet-adapter-modal-list-more-icon-rotate" : ""}` },
              import_react8.default.createElement("path", { d: "M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z" })
            )
          ) : null
        ) : import_react8.default.createElement(
          import_react8.default.Fragment,
          null,
          import_react8.default.createElement("h1", { className: "wallet-adapter-modal-title" }, "You'll need a wallet on Aleo to continue"),
          import_react8.default.createElement(
            "div",
            { className: "wallet-adapter-modal-middle" },
            import_react8.default.createElement(AleoSVG, null),
            import_react8.default.createElement("button", { type: "button", className: "wallet-adapter-modal-middle-button", onClick: (event) => handleWalletClick(event, getStartedWallet.adapter.name) }, "Get started")
          ),
          otherWallets.length ? import_react8.default.createElement(
            import_react8.default.Fragment,
            null,
            import_react8.default.createElement(
              "button",
              { className: "wallet-adapter-modal-list-more", onClick: handleCollapseClick, tabIndex: 0 },
              import_react8.default.createElement(
                "span",
                null,
                expanded ? "Hide " : "Already have a wallet? View ",
                "options"
              ),
              import_react8.default.createElement(
                "svg",
                { width: "13", height: "7", viewBox: "0 0 13 7", xmlns: "http://www.w3.org/2000/svg", className: `${expanded ? "wallet-adapter-modal-list-more-icon-rotate" : ""}` },
                import_react8.default.createElement("path", { d: "M0.71418 1.626L5.83323 6.26188C5.91574 6.33657 6.0181 6.39652 6.13327 6.43762C6.24844 6.47872 6.37371 6.5 6.50048 6.5C6.62725 6.5 6.75252 6.47872 6.8677 6.43762C6.98287 6.39652 7.08523 6.33657 7.16774 6.26188L12.2868 1.626C12.7753 1.1835 12.3703 0.5 11.6195 0.5H1.37997C0.629216 0.5 0.224175 1.1835 0.71418 1.626Z" })
              )
            ),
            import_react8.default.createElement(
              Collapse,
              { expanded, id: "wallet-adapter-modal-collapse" },
              import_react8.default.createElement("ul", { className: "wallet-adapter-modal-list" }, otherWallets.map((wallet2) => import_react8.default.createElement(WalletListItem, { key: wallet2.adapter.name, handleClick: (event) => handleWalletClick(event, wallet2.adapter.name), tabIndex: expanded ? 0 : -1, wallet: wallet2 })))
            )
          ) : null
        )
      )
    ),
    import_react8.default.createElement("div", { className: "wallet-adapter-modal-overlay", onMouseDown: handleClose })
  ), portal);
};

// node_modules/@demox-labs/aleo-wallet-adapter-reactui/dist/WalletModalButton.js
var import_react9 = __toESM(require_react());
var WalletModalButton = ({ children = "Select Wallet", onClick, ...props }) => {
  const { visible, setVisible } = useWalletModal();
  const handleClick = (0, import_react9.useCallback)((event) => {
    if (onClick)
      onClick(event);
    if (!event.defaultPrevented)
      setVisible(!visible);
  }, [onClick, setVisible, visible]);
  return import_react9.default.createElement(Button, { className: "wallet-adapter-button-trigger", onClick: handleClick, ...props }, children);
};

// node_modules/@demox-labs/aleo-wallet-adapter-reactui/dist/WalletModalProvider.js
var import_react10 = __toESM(require_react());
var WalletModalProvider = ({ children, ...props }) => {
  const [visible, setVisible] = (0, import_react10.useState)(false);
  return import_react10.default.createElement(
    WalletModalContext.Provider,
    { value: {
      visible,
      setVisible
    } },
    children,
    visible && import_react10.default.createElement(WalletModal, { ...props })
  );
};

// node_modules/@demox-labs/aleo-wallet-adapter-reactui/dist/WalletDisconnectButton.js
var import_react11 = __toESM(require_react());
var import_aleo_wallet_adapter_react3 = __toESM(require_dist2());
var WalletDisconnectButton = ({ children, disabled, onClick, ...props }) => {
  const { wallet, disconnect, disconnecting } = (0, import_aleo_wallet_adapter_react3.useWallet)();
  const handleClick = (0, import_react11.useCallback)((event) => {
    if (onClick)
      onClick(event);
    if (!event.defaultPrevented)
      disconnect().catch(() => {
      });
  }, [onClick, disconnect]);
  const content = (0, import_react11.useMemo)(() => {
    if (children)
      return children;
    if (disconnecting)
      return "Disconnecting ...";
    if (wallet)
      return "Disconnect";
    return "Disconnect Wallet";
  }, [children, disconnecting, wallet]);
  return import_react11.default.createElement(Button, { className: "wallet-adapter-button-trigger", disabled: disabled || !wallet, startIcon: wallet ? import_react11.default.createElement(WalletIcon, { wallet }) : void 0, onClick: handleClick, ...props }, content);
};

// node_modules/@demox-labs/aleo-wallet-adapter-reactui/dist/WalletMultiButton.js
var import_react12 = __toESM(require_react());
var import_aleo_wallet_adapter_react4 = __toESM(require_dist2());
var WalletMultiButton = ({ children, ...props }) => {
  const { publicKey, wallet, disconnect } = (0, import_aleo_wallet_adapter_react4.useWallet)();
  const { setVisible } = useWalletModal();
  const [copied, setCopied] = (0, import_react12.useState)(false);
  const [active, setActive] = (0, import_react12.useState)(false);
  const ref = (0, import_react12.useRef)(null);
  const base58 = (0, import_react12.useMemo)(() => publicKey?.toString(), [publicKey]);
  const content = (0, import_react12.useMemo)(() => {
    if (children)
      return children;
    if (!wallet || !base58)
      return null;
    return base58.slice(0, 4) + ".." + base58.slice(-4);
  }, [children, wallet, base58]);
  const copyAddress = (0, import_react12.useCallback)(async () => {
    if (base58) {
      await navigator.clipboard.writeText(base58);
      setCopied(true);
      setTimeout(() => setCopied(false), 400);
    }
  }, [base58]);
  const openDropdown = (0, import_react12.useCallback)(() => {
    setActive(true);
  }, []);
  const closeDropdown = (0, import_react12.useCallback)(() => {
    setActive(false);
  }, []);
  const openModal = (0, import_react12.useCallback)(() => {
    setVisible(true);
    closeDropdown();
  }, [setVisible, closeDropdown]);
  (0, import_react12.useEffect)(() => {
    const listener = (event) => {
      const node = ref.current;
      if (!node || node.contains(event.target))
        return;
      closeDropdown();
    };
    document.addEventListener("mousedown", listener);
    document.addEventListener("touchstart", listener);
    return () => {
      document.removeEventListener("mousedown", listener);
      document.removeEventListener("touchstart", listener);
    };
  }, [ref, closeDropdown]);
  if (!wallet)
    return import_react12.default.createElement(WalletModalButton, { ...props }, children);
  if (!base58)
    return import_react12.default.createElement(WalletConnectButton, { ...props }, children);
  return import_react12.default.createElement(
    "div",
    { className: "wallet-adapter-dropdown" },
    import_react12.default.createElement(Button, { "aria-expanded": active, className: "wallet-adapter-button-trigger", style: { pointerEvents: active ? "none" : "auto", ...props.style }, onClick: openDropdown, startIcon: import_react12.default.createElement(WalletIcon, { wallet }), ...props }, content),
    import_react12.default.createElement(
      "ul",
      { "aria-label": "dropdown-list", className: `wallet-adapter-dropdown-list ${active && "wallet-adapter-dropdown-list-active"}`, ref, role: "menu" },
      import_react12.default.createElement("li", { onClick: copyAddress, className: "wallet-adapter-dropdown-list-item", role: "menuitem" }, copied ? "Copied" : "Copy address"),
      import_react12.default.createElement("li", { onClick: openModal, className: "wallet-adapter-dropdown-list-item", role: "menuitem" }, "Change wallet"),
      import_react12.default.createElement("li", { onClick: disconnect, className: "wallet-adapter-dropdown-list-item", role: "menuitem" }, "Disconnect")
    )
  );
};
export {
  WalletConnectButton,
  WalletDisconnectButton,
  WalletIcon,
  WalletModal,
  WalletModalButton,
  WalletModalContext,
  WalletModalProvider,
  WalletMultiButton,
  useWalletModal
};
//# sourceMappingURL=@demox-labs_aleo-wallet-adapter-reactui.js.map
